.common-excludes: &common_excludes
  - "/bin"
  - "/build"
  - "/elisp"
  - "/extra"
  - "/share"
  - "**/node_modules"
  - "pnpm-lock.yaml"

pre-commit:
  parallel: true
  output: true
  commands:
    md-format:
      priority: 1
      glob: "*.md"
      exclude: *common_excludes
      run: mise x -- pnpm run fix:md:file {staged_files}
      stage_fixed: true
    yaml-format:
      priority: 1
      glob: "*.yaml"
      exclude: *common_excludes
      run: mise x -- pnpm run fix:yaml:file {staged_files}
      stage_fixed: true
